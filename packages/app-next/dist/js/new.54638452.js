(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["new"],{"79f5":function(e,t,a){"use strict";a("7d8d")},"7d8d":function(e,t,a){},9951:function(e,t,a){var r=a("72df"),n=a("fbf7"),s="​᠎";e.exports=function(e){return r((function(){return!!n[e]()||s[e]()!=s||n[e].name!==e}))}},a0a1:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("3a0b");function n(e){var t={el:null,message:null};switch(console.log(e),e.code){case"auth/email-already-in-use":case"auth/invalid-email":case"auth/user-not-found":t.el="email",t.message=e.message;break;case"auth/weak-password":t.el="password",t.message=e.message;break;case"auth/wrong-password":t.el="password",t.message="Your password seems wrong. Please re-check.";break;default:r["b"].dispatch("notifications/show",{type:"alert",error:e.message})}return t}},b55a:function(e,t,a){"use strict";var r=a("6b1d"),n=a("61ad").trim,s=a("9951");r({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},c335:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"screen-addplant"},[a("app-header",{attrs:{color:"white"}},[e._v("Add a new friend")]),a("type-dialog",{attrs:{show:e.showTypesDialog,selected:e.type},on:{"type-selected":e.setSelectedType,"close-dialog":function(t){return e.toggleDialog("type",!1)}}}),a("tags-dialog",{attrs:{show:e.showTagsDialog,tags:e.existingTags,preselected:e.selectedTags},on:{"create-tag":e.createNewTag,"tags-selected":e.setSelectedTags,"close-dialog":function(t){return e.toggleDialog("tags",!1)}}}),a("main",[a("form",{staticClass:"addplant-form",on:{submit:function(e){e.preventDefault()}}},[a("div",[a("label-group",{attrs:{id:"addplant-name",label:"What's your friends name? *",error:"name"===e.error.el&&e.error.message},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.label;return[a("v-input",{attrs:{required:"",type:"text",placeholder:"e.g. Echeveria pulvinata",id:"addplant-name","aria-describedby":r,"aria-invalid":"name"===e.error.el,error:"name"===e.error.el,"error-message":e.error.message},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})]}}])}),a("label-group",{attrs:{id:"addplant-photo",label:"Do you want to upload a photo?",error:"photo"===e.error.el&&e.error.message},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.label;return[a("file-upload",{attrs:{id:"addplant-photo",error:"photo"===e.error.el,"aria-describedby":r},on:{"file-selected":e.getFile,"has-error":e.assignFileUploadError}})]}}])}),a("label-group",{attrs:{id:"addplant-type",label:"Type"}},[a("button",{staticClass:"addplant-type-selector",on:{click:function(t){return e.toggleDialog("type",!0)}}},[a("div",[null===e.type?a("v-text",{attrs:{color:"inactive"}},[e._v("e.g. Succulent, Herb, …")]):a("v-text",[e._v(e._s(e.type.label))])],1),a("div",[a("feather-list")],1)])]),a("label-group",{attrs:{id:"addplant-tags",label:"Tags"}},[a("div",{class:["addplant-tags-container",e.selectedTags.length&&"has-tags"]},[a("v-button",{attrs:{color:"yellow",round:"",small:""},nativeOn:{click:function(t){return e.toggleDialog("tags",!0)}}},[a("feather-plus"),a("span",{staticClass:"visuallyhidden"},[e._v("Open dialog")])],1),e.selectedTags.length?a("div",e._l(e.selectedTags,(function(t){return a("v-tag",{key:t.guid,attrs:{tag:t}},[e._v(e._s(t.label))])})),1):a("v-text",{attrs:{color:"special"}},[a("span",[e._v("Add tags for more granular organisation")])])],1)])],1),a("v-button",{attrs:{color:"yellow"},nativeOn:{click:function(t){return t.preventDefault(),e.createNewPlant(t)}}},[e.progress?a("feather-loader"):e._e(),e._v(" "+e._s(" ")+"Add friend ")],1)],1),a("new-illustration")],1)],1)},n=[],s=a("42c2"),l=a("0b38"),o=(a("df26"),a("ef1f"),a("f3b8"),a("918c"),a("868d"),a("b55a"),a("cfce"),a("9869")),i=a("ec26"),c=a("9ce4"),u=a("df31"),d=a("a52b"),g=a("a0a1"),p=a("57e6"),f=a("9b97"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticClass:"new-illustration-bg",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 360 137"}},[a("defs",[a("path",{attrs:{id:"a",d:"M0 0h360v137H0z"}})]),a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("mask",{attrs:{id:"b",fill:"#fff"}},[a("use",{attrs:{"xlink:href":"#a"}})]),a("g",{attrs:{mask:"url(#b)"}},[a("path",{attrs:{fill:"#0A3E2B",d:"M185.92588 148.431508c-11.422503.664601-29.673676 1.467919-40.516777-2.217407-2.710775-.91305-4.986999-2.728798-6.642434-5.238132-2.441767-3.672904-2.193452-5.985549-.227622-9.122218 6.414811-10.149139 15.436933-12.223688 26.714586-12.4887 12.519229-.298139 17.506227-10.09945 20.837791-15.049796 3.290177-4.8861625 7.759853-7.654298 13.181403-8.7412622 15.105847-3.0455701 17.609692 2.7039528 34.702061 4.8944442 14.174665 1.815748 16.88544-11.1843435 22.058675-20.0249855 21.024027-35.921578 50.946019 7.6874247 75.260225-22.954613 3.66265-4.6149393 9.498059-14.0083802 12.684772-17.9628594 5.131849-6.3706453 16.968211-10.459701 24.955686 6.4679544 5.83541 12.3541243 8.691035 29.5882001 9.042815 43.909212.227623 8.7164175-1.241576 17.1554005-4.283438 25.2362025-13.077939 34.933993-61.789121 25.936001-187.767743 33.29216M158.342208 54.0339283c.39-4.006.24-11.898 4.28-20.55 4.26-9.135 17.97-17.255 26.95-11.628 12.12 7.586 6.11 28.432 15.93 32.242 3.34 1.298 6.07 1.942 7.61 6.379 1.2 3.452 1.21 6.855-.13 10.23-3.05 7.637-8.55 13.771-16.03 15.061-3.26.563-7.36.712-11.54 1.659-11.89 2.693-10.54 17.2189997-23.92 18.5829997-2.9.294-6.44.548-9.11-1.585-8.9-7.0999997-9.22-18.0879997-3.8-28.3749997 3.82-7.243 8.77-11.98 9.76-22.016zM81.806667 100.240671c10.975089-18.7712506 19.668118-33.5590144 38.416196-44.9645305 3.723006-2.2653404 11.44864-6.1002059 15.370086-4.6410204 1.244761.4638768 1.822041 1.8487519 1.073381 2.9611557-.593066.8759616-1.274076 1.715894-2.031756 2.454494-19.740278 19.2779118-14.256116 44.4511132-44.076249 67.6607192-11.216374 8.728091-14.727411 10.052166-21.253383 14.240569-6.728923 4.319009-6.645488 7.012197-8.136044 8.45562-1.301135 1.261024-2.543641.274723-4.020667-.788141-3.389266-2.438731-7.254338-3.265152-11.2772593-2.776505-5.8359424.707074-11.5884498.153124-17.3093872-.736349-40.1886268-6.244323-49.4070706-37.224992-76.1716768-50.2000331-.8163104-.396322-1.5830107-.9074873-2.342946-1.4118971-1.6190907-1.0786263-1.5785007-3.4475509 1.6822307-3.8956649 38.1501059-5.2445108 50.311326 6.6856816 63.9450617 18.4109571 1.6551707 1.864515 1.6551707 1.864515 3.0983713 1.911804-.6178703-1.121412-.8726854-2.317133-1.9641058-3.033215C4.5390595 80.3187356 4.0001142 62.1419684-13.4783981 50.2072725c-4.1582217-2.8373051-8.3480135-5.6025517-13.3225455-6.8973536-2.7465912-.7138299-2.6811962-3.1322947.2255001-3.5015947 2.417361-.3062488 4.827957-.8129105 7.249828-.884969 14.292196-.4255958 18.1550126.0495402 21.8081141 1.2340025 11.7643399 3.8100954 20.6535536 9.5747788 27.8447516 19.6922484C53.249335 92.102559 53.90103 107.550109 56.767136 115.332431c0-36.0292705-8.0683931-94.281846 32.582509-114.8748261 2.936011-1.4884593 4.859527.9998122 4.363427 2.533308-2.225686 6.8838426-9.809254 19.9579643-11.08784 41.1949677-.602085 10.0611739-.096965 20.0863185.6765 30.1092113.626891 8.1358597-1.071125 17.1679476-2.536876 24.9007298-1.057595 1.4681933-1.237995 3.1750793-1.783705 5.6926253 1.616835-1.839745 2.494031-3.075999 2.825516-4.647776"}}),a("path",{attrs:{fill:"#1B6D4F",d:"M92 3.8344465c-2.258934 3.0262879-4.42036 4.9382188-7.178441 11.0132615-7.387387 16.2705099-10.398525 28.7283913-10.419419 48.2206509-.039468 32.9678904 1.058657 51.0312571-14.134008 74.0058821-1.156165 1.750169-3.097037.844754-1.882831-1.262639 8.450687-14.641661 14.192047-21.846788 13.753261-66.8119885-.227518-23.3116281 1.457976-36.7445718 12.527448-58.6610071 1.309393-2.5994173 3.057571-4.9606857 5.290967-6.9332772.67559-.5976188 1.369754-.5976188 2.043023.4291173M52 134.583169c-.714796.261064-1.319796.924975-2.379667-.29032-25.7550756-29.585694-22.6337235-61.2621457-51.2210958-83.3625193-7.0628152-5.4598275-10.7062599-5.7974096-13.2338156-6.8214085-1.7164075-.6954191-1.5416298-2.5566217.5557037-2.0097387 12.7879083 3.3375615 24.7288164 15.1574354 31.1283724 25.8947962 3.5090002 5.8829304 6.511593 12.0066693 9.1780747 18.3172037C40.9038511 121.561503 41.2623697 120.238182 51.621315 133.259848c.242.303824.237518.805696.378685 1.323321M76.630422 125c-.801816-1.497089-1.852937-1.110453 3.99336-5.523045 20.532787-15.499143 19.661345-34.8556505 39.452957-57.3906627 1.671013-1.9039556 6.580734-7.4045216 9.165862-7.0718352.265026.0337182.696255.227036.723207.4001229.065133.3843878.049411 1.0744874-.154973 1.1688984-3.705874 1.7353645-6.225868 4.7789961-8.772814 7.8091404-21.601876 25.6977814-15.519751 39.2322762-42.747817 59.8363582-.451442.33943-1.044382.492286-1.659782.771023M-36.4572512 92c12.4095735 1.9384985 20.2083953 8.491932 41.3163945 23.898369 15.4443275 11.272176 25.7300242 13.549179 29.8582817 15.618565.1871356.094781.3156505.53935.2750668.787586-.0450929.245979-.3291783.631873-.5253326.643157-.7372693.042877-1.5466874.133145-2.2140627-.110578-26.4785668-9.618021-33.4657159-20.42532-52.8669478-32.250386-10.2293305-6.2329832-12.6215103-5.3393332-17.162368-7.1266333-.1104777-.0451338-.2525204-.2843432-.2187007-.3768675.3179051-.9094469.3787806-.7514785 1.5376688-1.0832122"}}),a("path",{attrs:{fill:"#0A3E2B",d:"M129.593019 117.181507c.093 3.685-1.334 6.48-4.166 8.449-7.948 5.526-14.643-1.645-13.24-7.231 1.839-7.324 6.636-15.157 12.211-11.448 3.529 2.35 5.099 5.84 5.195 10.23M163.996165 15.652422c-.151833 3.3971403-.70489 5.8215025-4.020295 11.1815312-1.691443 2.7349002-3.948412 4.8212816-6.671885 6.3161966-4.083376 2.2409282-9.510517-.1011053-8.065529-5.2473684 1.780197-6.3385842 7.923964-4.5627407 9.828855-10.9193795 1.239609-4.1315985 1.194133-6.0186579 2.661126-7.2413107 2.718338-2.2669267 6.407093.9316138 6.267728 5.9103308M230.408924 91.9389601c-1.97935-.2816154-3.316801-1.9044499-3.403623-4.1442045-.117063-3.0076127 1.723761-7.0545688 3.629946-9.2831804 1.99008-2.3268731 4.913742-1.923697 6.394596.9086658 2.768553 5.2868745-.68287 13.3615395-6.620919 12.5187191"}}),a("path",{attrs:{fill:"#1B6D4F",d:"M272.909513 75.802815c1.979658-1.68595 4.220922-2.709143 5.924477-.678669 2.406926 2.870336.844184 7.492344-2.466289 9.560176-3.623849 2.263615-5.769168 5.705389-8.686885 10.4429304-5.461314 8.8669784-1.616582 13.2226386-.884219 19.0442524.256085 2.0401591-.956006 3.2141673-2.781736 2.713294-3.559656-.9761494-5.822318-6.2242494-5.995573-10.5473944-.444526-11.0621039 6.862536-23.6980844 14.890225-30.5345894M283.068999 106.997489c-1.11272-.039405-1.95798-.613598-2.533226-1.638138-1.158148-2.064434-.224586-4.757818.781457-6.9164155.698768-1.4989404 2.527101-2.8883646 4.037441-2.3080305 4.675979 1.7972956 2.676654 11.039653-2.285672 10.862584"}}),a("path",{attrs:{fill:"#DE4A4D",d:"M238.031272 43.9956479c1.28-.059 1.8-1.064 4.38-2.816 3.03-2.063 5.44-.962 5.5 1.441.02.851-.08 1.773-.38 2.553-1.61 4.297-3.9 8.124-6.98 11.355-1.79 1.872-5.04 3.422-6.84.776-1.04-1.528-3.51-6.764-4.61-14.561-.53-3.736.96-9.095 5.9-2.939 1.1 1.378 1.1 1.796 3.03 4.191"}}),a("path",{attrs:{fill:"#0A3E2B",d:"M320.63566 32.4861788c1.027949-3.4628352 3.88123-8.3925941 7.052227-10.2888118.332128-.1980313.70337-.2285498 1.079416-.1722601 1.464382.218377 1.519965 2.0237173.711604 2.821268-1.920714 1.8955395-5.598138 3.9450279-7.011054 8.5241629.44947.7283755 2.038743 1.8012711 2.222649 5.1745853.216844 4.0053868-.958642 7.6018253-3.225209 10.8924004-1.453402 2.1091691-3.411172 3.6059332-5.699012 4.7235893-4.6443 2.2685437-9.849924 2.0555922-15.161225 1.3767246-.496819-.0637498-.982659-.2373663-1.463009-.3933499-.079601-.0257712-.12695-.2217679-.14136-.343842-.008235-.0718881.059014-.1892149.126263-.2251589.848161-.4496396 1.724457-.3458766 3.203936-1.8562045 6.412675-6.5472407 5.046422-13.3786428 11.69241-18.4609943 2.879357-2.2020811 5.126709-1.8501008 6.612364-1.772109"}})])])])},b=[],m=o["default"].extend({}),w=m,v=a("2be6"),y=Object(v["a"])(w,h,b,!1,null,null,null),x=y.exports,T=o["default"].extend({name:"New",components:{"new-illustration":x,"type-dialog":f["default"],"feather-loader":function(){return a.e("icons").then(a.bind(null,"f463"))},"feather-list":function(){return a.e("icons").then(a.bind(null,"5aa3"))},"feather-plus":function(){return a.e("icons").then(a.bind(null,"c038"))}},data:function(){return{name:null,file:null,type:null,progress:!1,error:{el:null,message:null},selectedTags:[],showTypesDialog:this.$hasQuery("type"),showTagsDialog:this.$hasQuery("tags")}},computed:Object(c["c"])({userID:function(e){return e.account.uid},existingTags:function(e){return e.tags}}),methods:Object(l["a"])(Object(l["a"])({},Object(c["b"])({loadTags:"tags/loadTags",createTag:"tags/createTag",updateTags:"tags/updateTags"})),{},{getFile:function(e){this.error={el:null,message:null},this.file=e},assignFileUploadError:function(e){this.error.el="photo",this.error.message=e},createNewTag:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.createTag({label:e});case 2:case"end":return a.stop()}}),a)})))()},createNewPlant:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.name){t.next=2;break}return t.abrupt("return");case 2:if(""!==e.name.trim()){t.next=5;break}return e.error={el:"name",message:"Name can't be empty."},t.abrupt("return");case 5:return e.progress=!0,t.prev=6,a=e.file&&Object(p["b"])(e.file.blob),r=Object(i["a"])(),n={guid:r,blob:null,name:e.name.trim(),created:Date.now(),modified:Date.now(),imageURL:a&&Object(u["n"])(e.userID,r),modules:[],tags:e.selectedTags,type:e.type},t.next=12,Object(u["d"])(e.userID,n);case 12:return t.next=14,e.updateTags(e.selectedTags.map((function(e){return e.plants.push(r),e})));case 14:if(!a){t.next=21;break}return t.next=17,Object(u["v"])(Object(u["n"])(e.userID,r),e.file.blob);case 17:return s=t.sent,t.next=20,s.ref.getDownloadURL();case 20:n.imageURL=t.sent;case 21:return e.$store.commit("plants/assignPlant",n),t.next=24,e.$router.push("/plant/".concat(r));case 24:t.next=30;break;case 26:t.prev=26,t.t0=t["catch"](6),Object(d["a"])(t.t0.message,!0),e.error=Object(g["a"])(t.t0);case 30:return t.prev=30,e.progress=!1,t.finish(30);case 33:case"end":return t.stop()}}),t,null,[[6,26,30,33]])})))()},toggleDialog:function(e,t){var a;"tags"===e?(this.showTagsDialog=t,a={tags:null}):(this.showTypesDialog=t,a={type:null}),t?this.$router.push({path:"/new",query:a}):this.$router.push("/new")},setSelectedType:function(e){this.type=e},setSelectedTags:function(e){this.selectedTags=e}}),created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.existingTags.loaded){t.next=3;break}return t.next=3,e.loadTags();case 3:case"end":return t.stop()}}),t)})))()}}),k=T,D=(a("79f5"),Object(v["a"])(k,r,n,!1,null,null,null));t["default"]=D.exports}}]);
//# sourceMappingURL=new.54638452.js.map