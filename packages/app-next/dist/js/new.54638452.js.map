{"version":3,"sources":["webpack:///./src/modules/new/components/NewView.vue?3a8b","webpack:///C:/vueprojects/new try/happy-plants/node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/utils/setErrorMessage.ts","webpack:///C:/vueprojects/new try/happy-plants/node_modules/core-js/modules/es.string.trim.js","webpack:///./src/modules/new/components/NewView.vue?b4f9","webpack:///./src/modules/new/components/Illustration.vue?bd32","webpack:///./src/modules/new/components/Illustration.vue","webpack:///./src/modules/new/components/Illustration.vue?827d","webpack:///./src/modules/new/components/Illustration.vue?91e5","webpack:///./src/modules/new/components/NewView.vue","webpack:///./src/modules/new/components/NewView.vue?8557","webpack:///./src/modules/new/components/NewView.vue?d4bc"],"names":["fails","whitespaces","non","module","exports","METHOD_NAME","name","setErrorMessage","error","_error","el","message","console","log","code","dispatch","type","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","showTypesDialog","on","setSelectedType","$event","toggleDialog","showTagsDialog","existingTags","selectedTags","createNewTag","setSelectedTags","preventDefault","scopedSlots","_u","key","fn","ref","label","model","value","callback","$$v","expression","getFile","assignFileUploadError","_s","class","length","nativeOn","_l","tag","guid","createNewPlant","_e","staticRenderFns","extend","component","components","Illustration","TypeDialog","data","file","progress","$hasQuery","computed","userID","state","account","uid","tags","methods","loadTags","createTag","updateTags","hasFile","blob","plant","created","Date","now","modified","imageURL","modules","map","plants","push","uploadTask","getDownloadURL","$store","commit","$router","show","query","path","loaded"],"mappings":"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","file":"js/new.54638452.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewView.vue?vue&type=style&index=0&lang=postcss&\"","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","import { FirebaseError } from 'firebase'\r\nimport store from '@/store'\r\n\r\nexport interface FormErrorObject {\r\n  el: string | null\r\n  message: string | null\r\n}\r\n\r\n/**\r\n * Returns an error object for handling forms.\r\n * Its default switch case has a side-effect:\r\n * dispatch the error via Vuex to global notification component\r\n */\r\nexport default function setErrorMessage(error: FirebaseError): FormErrorObject {\r\n  const _error: FormErrorObject = { el: null, message: null }\r\n  console.log(error)\r\n\r\n  switch (error.code) {\r\n    case 'auth/email-already-in-use':\r\n    case 'auth/invalid-email':\r\n    case 'auth/user-not-found':\r\n      _error.el = 'email'\r\n      _error.message = error.message\r\n      break\r\n    case 'auth/weak-password':\r\n      _error.el = 'password'\r\n      _error.message = error.message\r\n      break\r\n    case 'auth/wrong-password':\r\n      _error.el = 'password'\r\n      _error.message = 'Your password seems wrong. Please re-check.'\r\n      break\r\n    default:\r\n      store.dispatch('notifications/show', {\r\n        type: 'alert',\r\n        error: error.message,\r\n      })\r\n  }\r\n\r\n  return _error\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"screen-addplant\"},[_c('app-header',{attrs:{\"color\":\"white\"}},[_vm._v(\"Add a new friend\")]),_c('type-dialog',{attrs:{\"show\":_vm.showTypesDialog,\"selected\":_vm.type},on:{\"type-selected\":_vm.setSelectedType,\"close-dialog\":function($event){return _vm.toggleDialog('type', false)}}}),_c('tags-dialog',{attrs:{\"show\":_vm.showTagsDialog,\"tags\":_vm.existingTags,\"preselected\":_vm.selectedTags},on:{\"create-tag\":_vm.createNewTag,\"tags-selected\":_vm.setSelectedTags,\"close-dialog\":function($event){return _vm.toggleDialog('tags', false)}}}),_c('main',[_c('form',{staticClass:\"addplant-form\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',[_c('label-group',{attrs:{\"id\":\"addplant-name\",\"label\":\"What's your friends name? *\",\"error\":_vm.error.el === 'name' && _vm.error.message},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar label = ref.label;\nreturn [_c('v-input',{attrs:{\"required\":\"\",\"type\":\"text\",\"placeholder\":\"e.g. Echeveria pulvinata\",\"id\":\"addplant-name\",\"aria-describedby\":label,\"aria-invalid\":_vm.error.el === 'name',\"error\":_vm.error.el === 'name',\"error-message\":_vm.error.message},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})]}}])}),_c('label-group',{attrs:{\"id\":\"addplant-photo\",\"label\":\"Do you want to upload a photo?\",\"error\":_vm.error.el === 'photo' && _vm.error.message},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar label = ref.label;\nreturn [_c('file-upload',{attrs:{\"id\":\"addplant-photo\",\"error\":_vm.error.el === 'photo',\"aria-describedby\":label},on:{\"file-selected\":_vm.getFile,\"has-error\":_vm.assignFileUploadError}})]}}])}),_c('label-group',{attrs:{\"id\":\"addplant-type\",\"label\":\"Type\"}},[_c('button',{staticClass:\"addplant-type-selector\",on:{\"click\":function($event){return _vm.toggleDialog('type', true)}}},[_c('div',[(_vm.type === null)?_c('v-text',{attrs:{\"color\":\"inactive\"}},[_vm._v(\"e.g. Succulent, Herb, â€¦\")]):_c('v-text',[_vm._v(_vm._s(_vm.type.label))])],1),_c('div',[_c('feather-list')],1)])]),_c('label-group',{attrs:{\"id\":\"addplant-tags\",\"label\":\"Tags\"}},[_c('div',{class:['addplant-tags-container', _vm.selectedTags.length && 'has-tags']},[_c('v-button',{attrs:{\"color\":\"yellow\",\"round\":\"\",\"small\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleDialog('tags', true)}}},[_c('feather-plus'),_c('span',{staticClass:\"visuallyhidden\"},[_vm._v(\"Open dialog\")])],1),(!_vm.selectedTags.length)?_c('v-text',{attrs:{\"color\":\"special\"}},[_c('span',[_vm._v(\"Add tags for more granular organisation\")])]):_c('div',_vm._l((_vm.selectedTags),function(tag){return _c('v-tag',{key:tag.guid,attrs:{\"tag\":tag}},[_vm._v(_vm._s(tag.label))])}),1)],1)])],1),_c('v-button',{attrs:{\"color\":\"yellow\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.createNewPlant($event)}}},[(_vm.progress)?_c('feather-loader'):_vm._e(),_vm._v(\" \"+_vm._s(' ')+\"Add friend \")],1)],1),_c('new-illustration')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"new-illustration-bg\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"viewBox\":\"0 0 360 137\"}},[_c('defs',[_c('path',{attrs:{\"id\":\"a\",\"d\":\"M0 0h360v137H0z\"}})]),_c('g',{attrs:{\"fill\":\"none\",\"fill-rule\":\"evenodd\"}},[_c('mask',{attrs:{\"id\":\"b\",\"fill\":\"#fff\"}},[_c('use',{attrs:{\"xlink:href\":\"#a\"}})]),_c('g',{attrs:{\"mask\":\"url(#b)\"}},[_c('path',{attrs:{\"fill\":\"#0A3E2B\",\"d\":\"M185.92588 148.431508c-11.422503.664601-29.673676 1.467919-40.516777-2.217407-2.710775-.91305-4.986999-2.728798-6.642434-5.238132-2.441767-3.672904-2.193452-5.985549-.227622-9.122218 6.414811-10.149139 15.436933-12.223688 26.714586-12.4887 12.519229-.298139 17.506227-10.09945 20.837791-15.049796 3.290177-4.8861625 7.759853-7.654298 13.181403-8.7412622 15.105847-3.0455701 17.609692 2.7039528 34.702061 4.8944442 14.174665 1.815748 16.88544-11.1843435 22.058675-20.0249855 21.024027-35.921578 50.946019 7.6874247 75.260225-22.954613 3.66265-4.6149393 9.498059-14.0083802 12.684772-17.9628594 5.131849-6.3706453 16.968211-10.459701 24.955686 6.4679544 5.83541 12.3541243 8.691035 29.5882001 9.042815 43.909212.227623 8.7164175-1.241576 17.1554005-4.283438 25.2362025-13.077939 34.933993-61.789121 25.936001-187.767743 33.29216M158.342208 54.0339283c.39-4.006.24-11.898 4.28-20.55 4.26-9.135 17.97-17.255 26.95-11.628 12.12 7.586 6.11 28.432 15.93 32.242 3.34 1.298 6.07 1.942 7.61 6.379 1.2 3.452 1.21 6.855-.13 10.23-3.05 7.637-8.55 13.771-16.03 15.061-3.26.563-7.36.712-11.54 1.659-11.89 2.693-10.54 17.2189997-23.92 18.5829997-2.9.294-6.44.548-9.11-1.585-8.9-7.0999997-9.22-18.0879997-3.8-28.3749997 3.82-7.243 8.77-11.98 9.76-22.016zM81.806667 100.240671c10.975089-18.7712506 19.668118-33.5590144 38.416196-44.9645305 3.723006-2.2653404 11.44864-6.1002059 15.370086-4.6410204 1.244761.4638768 1.822041 1.8487519 1.073381 2.9611557-.593066.8759616-1.274076 1.715894-2.031756 2.454494-19.740278 19.2779118-14.256116 44.4511132-44.076249 67.6607192-11.216374 8.728091-14.727411 10.052166-21.253383 14.240569-6.728923 4.319009-6.645488 7.012197-8.136044 8.45562-1.301135 1.261024-2.543641.274723-4.020667-.788141-3.389266-2.438731-7.254338-3.265152-11.2772593-2.776505-5.8359424.707074-11.5884498.153124-17.3093872-.736349-40.1886268-6.244323-49.4070706-37.224992-76.1716768-50.2000331-.8163104-.396322-1.5830107-.9074873-2.342946-1.4118971-1.6190907-1.0786263-1.5785007-3.4475509 1.6822307-3.8956649 38.1501059-5.2445108 50.311326 6.6856816 63.9450617 18.4109571 1.6551707 1.864515 1.6551707 1.864515 3.0983713 1.911804-.6178703-1.121412-.8726854-2.317133-1.9641058-3.033215C4.5390595 80.3187356 4.0001142 62.1419684-13.4783981 50.2072725c-4.1582217-2.8373051-8.3480135-5.6025517-13.3225455-6.8973536-2.7465912-.7138299-2.6811962-3.1322947.2255001-3.5015947 2.417361-.3062488 4.827957-.8129105 7.249828-.884969 14.292196-.4255958 18.1550126.0495402 21.8081141 1.2340025 11.7643399 3.8100954 20.6535536 9.5747788 27.8447516 19.6922484C53.249335 92.102559 53.90103 107.550109 56.767136 115.332431c0-36.0292705-8.0683931-94.281846 32.582509-114.8748261 2.936011-1.4884593 4.859527.9998122 4.363427 2.533308-2.225686 6.8838426-9.809254 19.9579643-11.08784 41.1949677-.602085 10.0611739-.096965 20.0863185.6765 30.1092113.626891 8.1358597-1.071125 17.1679476-2.536876 24.9007298-1.057595 1.4681933-1.237995 3.1750793-1.783705 5.6926253 1.616835-1.839745 2.494031-3.075999 2.825516-4.647776\"}}),_c('path',{attrs:{\"fill\":\"#1B6D4F\",\"d\":\"M92 3.8344465c-2.258934 3.0262879-4.42036 4.9382188-7.178441 11.0132615-7.387387 16.2705099-10.398525 28.7283913-10.419419 48.2206509-.039468 32.9678904 1.058657 51.0312571-14.134008 74.0058821-1.156165 1.750169-3.097037.844754-1.882831-1.262639 8.450687-14.641661 14.192047-21.846788 13.753261-66.8119885-.227518-23.3116281 1.457976-36.7445718 12.527448-58.6610071 1.309393-2.5994173 3.057571-4.9606857 5.290967-6.9332772.67559-.5976188 1.369754-.5976188 2.043023.4291173M52 134.583169c-.714796.261064-1.319796.924975-2.379667-.29032-25.7550756-29.585694-22.6337235-61.2621457-51.2210958-83.3625193-7.0628152-5.4598275-10.7062599-5.7974096-13.2338156-6.8214085-1.7164075-.6954191-1.5416298-2.5566217.5557037-2.0097387 12.7879083 3.3375615 24.7288164 15.1574354 31.1283724 25.8947962 3.5090002 5.8829304 6.511593 12.0066693 9.1780747 18.3172037C40.9038511 121.561503 41.2623697 120.238182 51.621315 133.259848c.242.303824.237518.805696.378685 1.323321M76.630422 125c-.801816-1.497089-1.852937-1.110453 3.99336-5.523045 20.532787-15.499143 19.661345-34.8556505 39.452957-57.3906627 1.671013-1.9039556 6.580734-7.4045216 9.165862-7.0718352.265026.0337182.696255.227036.723207.4001229.065133.3843878.049411 1.0744874-.154973 1.1688984-3.705874 1.7353645-6.225868 4.7789961-8.772814 7.8091404-21.601876 25.6977814-15.519751 39.2322762-42.747817 59.8363582-.451442.33943-1.044382.492286-1.659782.771023M-36.4572512 92c12.4095735 1.9384985 20.2083953 8.491932 41.3163945 23.898369 15.4443275 11.272176 25.7300242 13.549179 29.8582817 15.618565.1871356.094781.3156505.53935.2750668.787586-.0450929.245979-.3291783.631873-.5253326.643157-.7372693.042877-1.5466874.133145-2.2140627-.110578-26.4785668-9.618021-33.4657159-20.42532-52.8669478-32.250386-10.2293305-6.2329832-12.6215103-5.3393332-17.162368-7.1266333-.1104777-.0451338-.2525204-.2843432-.2187007-.3768675.3179051-.9094469.3787806-.7514785 1.5376688-1.0832122\"}}),_c('path',{attrs:{\"fill\":\"#0A3E2B\",\"d\":\"M129.593019 117.181507c.093 3.685-1.334 6.48-4.166 8.449-7.948 5.526-14.643-1.645-13.24-7.231 1.839-7.324 6.636-15.157 12.211-11.448 3.529 2.35 5.099 5.84 5.195 10.23M163.996165 15.652422c-.151833 3.3971403-.70489 5.8215025-4.020295 11.1815312-1.691443 2.7349002-3.948412 4.8212816-6.671885 6.3161966-4.083376 2.2409282-9.510517-.1011053-8.065529-5.2473684 1.780197-6.3385842 7.923964-4.5627407 9.828855-10.9193795 1.239609-4.1315985 1.194133-6.0186579 2.661126-7.2413107 2.718338-2.2669267 6.407093.9316138 6.267728 5.9103308M230.408924 91.9389601c-1.97935-.2816154-3.316801-1.9044499-3.403623-4.1442045-.117063-3.0076127 1.723761-7.0545688 3.629946-9.2831804 1.99008-2.3268731 4.913742-1.923697 6.394596.9086658 2.768553 5.2868745-.68287 13.3615395-6.620919 12.5187191\"}}),_c('path',{attrs:{\"fill\":\"#1B6D4F\",\"d\":\"M272.909513 75.802815c1.979658-1.68595 4.220922-2.709143 5.924477-.678669 2.406926 2.870336.844184 7.492344-2.466289 9.560176-3.623849 2.263615-5.769168 5.705389-8.686885 10.4429304-5.461314 8.8669784-1.616582 13.2226386-.884219 19.0442524.256085 2.0401591-.956006 3.2141673-2.781736 2.713294-3.559656-.9761494-5.822318-6.2242494-5.995573-10.5473944-.444526-11.0621039 6.862536-23.6980844 14.890225-30.5345894M283.068999 106.997489c-1.11272-.039405-1.95798-.613598-2.533226-1.638138-1.158148-2.064434-.224586-4.757818.781457-6.9164155.698768-1.4989404 2.527101-2.8883646 4.037441-2.3080305 4.675979 1.7972956 2.676654 11.039653-2.285672 10.862584\"}}),_c('path',{attrs:{\"fill\":\"#DE4A4D\",\"d\":\"M238.031272 43.9956479c1.28-.059 1.8-1.064 4.38-2.816 3.03-2.063 5.44-.962 5.5 1.441.02.851-.08 1.773-.38 2.553-1.61 4.297-3.9 8.124-6.98 11.355-1.79 1.872-5.04 3.422-6.84.776-1.04-1.528-3.51-6.764-4.61-14.561-.53-3.736.96-9.095 5.9-2.939 1.1 1.378 1.1 1.796 3.03 4.191\"}}),_c('path',{attrs:{\"fill\":\"#0A3E2B\",\"d\":\"M320.63566 32.4861788c1.027949-3.4628352 3.88123-8.3925941 7.052227-10.2888118.332128-.1980313.70337-.2285498 1.079416-.1722601 1.464382.218377 1.519965 2.0237173.711604 2.821268-1.920714 1.8955395-5.598138 3.9450279-7.011054 8.5241629.44947.7283755 2.038743 1.8012711 2.222649 5.1745853.216844 4.0053868-.958642 7.6018253-3.225209 10.8924004-1.453402 2.1091691-3.411172 3.6059332-5.699012 4.7235893-4.6443 2.2685437-9.849924 2.0555922-15.161225 1.3767246-.496819-.0637498-.982659-.2373663-1.463009-.3933499-.079601-.0257712-.12695-.2217679-.14136-.343842-.008235-.0718881.059014-.1892149.126263-.2251589.848161-.4496396 1.724457-.3458766 3.203936-1.8562045 6.412675-6.5472407 5.046422-13.3786428 11.69241-18.4609943 2.879357-2.2020811 5.126709-1.8501008 6.612364-1.772109\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nexport default Vue.extend({})\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Illustration.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Illustration.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Illustration.vue?vue&type=template&id=34dbfc3f&\"\nimport script from \"./Illustration.vue?vue&type=script&lang=ts&\"\nexport * from \"./Illustration.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { VueConstructor } from 'vue'\nimport { v4 as uuid } from 'uuid'\nimport { mapState, mapActions } from 'vuex'\nimport { getStoragePath, addPlant, uploadFile } from '@/services/firebase'\nimport { RootState } from '@/store'\nimport { Plant, PlantType, PlantTag } from '@/types/plant'\nimport logger from '@/utils/vueLogger'\nimport setErrorMessage from '@/utils/setErrorMessage'\nimport { isBlobbable } from '@/utils/blob'\nimport TypeDialog from '@/components/TypeDialog.vue'\nimport Illustration from '../components/Illustration.vue'\n\ninterface NewMapState {\n  userID: string\n  existingTags: {\n    data: PlantTag[]\n    loaded: boolean\n  }\n}\n\nexport default (Vue as VueConstructor<Vue & NewMapState>).extend({\n  name: 'New',\n  components: {\n    'new-illustration': Illustration,\n    'type-dialog': TypeDialog,\n    'feather-loader': () =>\n      import('vue-feather-icons/icons/LoaderIcon' /* webpackChunkName: \"icons\" */),\n    'feather-list': () =>\n      import('vue-feather-icons/icons/ListIcon' /* webpackChunkName: \"icons\" */),\n    'feather-plus': () =>\n      import('vue-feather-icons/icons/PlusIcon' /* webpackChunkName: \"icons\" */),\n  },\n  data() {\n    return {\n      name: null,\n      file: null,\n      type: null,\n      progress: false,\n      error: { el: null, message: null },\n      selectedTags: [] as PlantTag[],\n      showTypesDialog: this.$hasQuery('type'),\n      showTagsDialog: this.$hasQuery('tags'),\n    }\n  },\n  computed: mapState<RootState>({\n    userID: (state: RootState) => state.account.uid,\n    existingTags: (state: RootState) => state.tags,\n  }),\n  methods: {\n    ...mapActions({\n      loadTags: 'tags/loadTags',\n      createTag: 'tags/createTag',\n      updateTags: 'tags/updateTags',\n    }),\n    getFile(file: File) {\n      this.error = { el: null, message: null }\n      this.file = file\n    },\n    assignFileUploadError(message: string) {\n      this.error.el = 'photo'\n      this.error.message = message\n    },\n    async createNewTag(label: string) {\n      await this.createTag({ label })\n    },\n    async createNewPlant() {\n      if (!this.name) return\n\n      if (this.name.trim() === '') {\n        this.error = {\n          el: 'name',\n          message: \"Name can't be empty.\",\n        }\n        return\n      }\n\n      this.progress = true\n      try {\n        const hasFile = this.file && isBlobbable(this.file.blob)\n        const guid = uuid()\n        const plant: Plant = {\n          guid,\n          blob: null,\n          name: this.name.trim(),\n          created: Date.now(),\n          modified: Date.now(),\n          imageURL: hasFile && getStoragePath(this.userID, guid),\n          modules: [],\n          tags: this.selectedTags,\n          type: this.type,\n        }\n\n        await addPlant(this.userID, plant)\n        await this.updateTags(\n          this.selectedTags.map((tag) => {\n            tag.plants.push(guid)\n            return tag\n          })\n        )\n\n        if (hasFile) {\n          const uploadTask = await uploadFile(getStoragePath(this.userID, guid), this.file.blob)\n          plant.imageURL = await uploadTask.ref.getDownloadURL()\n        }\n\n        this.$store.commit('plants/assignPlant', plant)\n        await this.$router.push(`/plant/${guid}`)\n      } catch (error) {\n        logger(error.message, true)\n        this.error = setErrorMessage(error)\n      } finally {\n        this.progress = false\n      }\n    },\n    toggleDialog(type: 'tags' | 'type', show: boolean) {\n      let query\n\n      if (type === 'tags') {\n        this.showTagsDialog = show\n        query = { tags: null }\n      } else {\n        this.showTypesDialog = show\n        query = { type: null }\n      }\n\n      if (show) {\n        this.$router.push({ path: '/new', query })\n      } else {\n        this.$router.push('/new')\n      }\n    },\n    setSelectedType(type: PlantType) {\n      this.type = type\n    },\n    setSelectedTags(tags: PlantTag[]) {\n      this.selectedTags = tags\n    },\n  },\n  async created() {\n    if (!this.existingTags.loaded) {\n      await this.loadTags()\n    }\n  },\n})\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NewView.vue?vue&type=template&id=03d0321e&\"\nimport script from \"./NewView.vue?vue&type=script&lang=ts&\"\nexport * from \"./NewView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NewView.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}