(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{"0a04":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-layout",{staticClass:"screen-login"},[e.loginRedirect?t("v-loading",{attrs:{message:"login"}}):e._e(),t("app-header",{attrs:{"return-to":"/welcome"}},[e._v("Login")]),t("main",[t("form",{staticClass:"login-form"},[t("label-group",{attrs:{id:"email",label:"Your e-mail *",error:"email"===e.error.el&&e.error.message},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.label;return[t("v-input",{attrs:{required:"",type:"email",placeholder:"lover@plants.garden",id:"email",autocomplete:"username","aria-describedby":o,"aria-invalid":"email"===e.error.el,error:"email"===e.error.el,"error-message":e.error.message,"data-cy":"login-form-email"},model:{value:e.email,callback:function(r){e.email=r},expression:"email"}})]}}])}),e.showForgotPassword?e._e():t("label-group",{attrs:{id:"password",label:"Your password *",error:"password"===e.error.el&&e.error.message},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.label;return[t("v-input",{attrs:{type:e.showPasswordPlain?"text":"password",required:!e.showForgotPassword,placeholder:"********",id:"password",autocomplete:"current-password","aria-describedby":o,error:"password"===e.error.el,"error-message":e.error.message,"aria-invalid":"password"===e.error.el,"data-cy":"login-form-password"},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}}),t("button",{staticClass:"login-form-toggle-password",attrs:{"aria-label":e.showPasswordPlain?"Hide your password":"Show your password"},on:{click:function(r){return r.preventDefault(),e.togglePlainPassword(r)}}},[t(e.showPasswordPlain?"feather-eye-off":"feather-eye",{tag:"component"}),t("v-text",{staticClass:"visuallyhidden"},[e._v(e._s(e.passwordPlainLabel))])],1)]}}],null,!1,1389586469)}),t("router-link",{staticClass:"login-form-forgot-pw",attrs:{to:"/login?forgotPassword=true","data-cy":"login-form-forgot-pw"},nativeOn:{click:function(r){return r.preventDefault(),e.toggleResetPassword(r)}}},[t("v-text",{attrs:{color:"special",small:""}},[e._v(e._s(e.togglePasswordReset))])],1),t("v-button",{attrs:{color:"yellow",type:"submit","data-cy":"login-form-submit"},nativeOn:{click:function(r){return r.preventDefault(),e.formAction(r)}}},[e.sendForgotPassword?t("feather-loader"):e._e(),e._v(" "+e._s(e.submitBtnLabel)+" ")],1)],1),t("div",{staticClass:"login-form-separator"},[t("v-text",{attrs:{color:"special"}},[e._v("or login with")]),t("hr")],1),t("div",{staticClass:"login-services"},[t("v-button",{attrs:{border:"",color:"white","data-cy":"form-service-google"},nativeOn:{click:function(r){return e.login("google")}}},[t("feather-chrome"),e._v("Google ")],1),t("v-button",{attrs:{border:"",color:"white","data-cy":"form-service-github"},nativeOn:{click:function(r){return e.login("github")}}},[t("feather-github"),e._v("GitHub ")],1),t("v-button",{attrs:{border:"",color:"white","data-cy":"form-service-twitter"},nativeOn:{click:function(r){return e.login("twitter")}}},[t("feather-twitter"),e._v("Twitter ")],1)],1)]),t("footer-no-auth")],1)},s=[],a=t("42c2"),n=t("0b38"),i=(t("df26"),t("ef1f"),t("f3b8"),t("918c"),t("9869")),l=t("9ce4"),c=t("b6a7"),u=t("df31"),d=t("a0a1"),f=t("a52b"),w=t("8ffc"),g=i["default"].extend({name:"Login",components:{"feather-chrome":function(){return t.e("icons").then(t.bind(null,"5843"))},"feather-github":function(){return t.e("icons").then(t.bind(null,"4fb0"))},"feather-twitter":function(){return t.e("icons").then(t.bind(null,"c182"))},"feather-loader":function(){return t.e("icons").then(t.bind(null,"f463"))},"feather-eye":function(){return t.e("icons").then(t.bind(null,"73e3"))},"feather-eye-off":function(){return t.e("icons").then(t.bind(null,"6aa3"))}},data:function(){return{loginRedirect:!1,email:null,password:null,error:{el:null,message:null},loading:!1,showPasswordPlain:!1,showForgotPassword:this.$hasQuery("forgotPassword"),sendForgotPassword:!1}},computed:{submitBtnLabel:function(){return this.showForgotPassword?"Send password reset":"Login"},togglePasswordReset:function(){return this.showForgotPassword?"Show password field again":"I forgot my password"},passwordPlainLabel:function(){return this.showPasswordPlain?"Hide password":"Show password"}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])({signInUser:"account/signInUser",authRedirectResults:"account/authRedirectResults",showNotification:"notifications/show"})),{},{login:function(e){var r=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.error.el=null,r.error.message=null,r.loginRedirect=!0,t.prev=3,t.next=6,Promise.all([r.signInUser({type:e,email:r.email,password:r.password}),Object(w["a"])(4e3)]);case 6:r.$router.push("/home"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](3),r.loginRedirect=!1,r.error=Object(d["a"])(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,9]])})))()},toggleResetPassword:function(){this.showForgotPassword=!this.showForgotPassword,this.showForgotPassword?this.$router.push({path:"/login",query:{forgotPassword:null}}):this.$router.push({path:"/login"})},formAction:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.showForgotPassword){r.next=4;break}return r.next=3,e.login("email");case 3:return r.abrupt("return");case 4:return e.sendForgotPassword=!0,r.prev=5,r.next=8,Object(u["k"])(e.email);case 8:e.showNotification({type:"info",message:"An email to reset your password has been sent."}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](5),Object(f["a"])("formAction() => ".concat(r.t0.message),!0),e.error=Object(d["a"])(r.t0);case 15:return r.prev=15,e.sendForgotPassword=!1,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[5,11,15,18]])})))()},togglePlainPassword:function(){this.showPasswordPlain=!this.showPasswordPlain}}),created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!Object(c["b"])("USER_SIGNIN_PROGRESS")){r.next=6;break}return Object(c["a"])("USER_SIGNIN_PROGRESS"),e.loginRedirect=!0,r.next=5,Promise.all([e.authRedirectResults(),Object(w["a"])(4e3)]);case 5:e.$router.push("/home");case 6:case"end":return r.stop()}}),r)})))()},beforeDestroy:function(){this.loginRedirect=!1}}),h=g,p=(t("38e0"),t("2be6")),m=Object(p["a"])(h,o,s,!1,null,null,null);r["default"]=m.exports},"38e0":function(e,r,t){"use strict";t("b217")},"8ffc":function(e,r,t){"use strict";t.d(r,"a",(function(){return s}));var o=t("42c2");t("df26"),t("ef1f");function s(){return a.apply(this,arguments)}function a(){return a=Object(o["a"])(regeneratorRuntime.mark((function e(){var r,t=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:2e3,e.abrupt("return",new Promise((function(e){return setTimeout(e,r)})));case 2:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}},a0a1:function(e,r,t){"use strict";t.d(r,"a",(function(){return s}));var o=t("3a0b");function s(e){var r={el:null,message:null};switch(console.log(e),e.code){case"auth/email-already-in-use":case"auth/invalid-email":case"auth/user-not-found":r.el="email",r.message=e.message;break;case"auth/weak-password":r.el="password",r.message=e.message;break;case"auth/wrong-password":r.el="password",r.message="Your password seems wrong. Please re-check.";break;default:o["b"].dispatch("notifications/show",{type:"alert",error:e.message})}return r}},b217:function(e,r,t){}}]);
//# sourceMappingURL=Login.7bf5517b.js.map