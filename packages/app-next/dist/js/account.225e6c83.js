(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account"],{3966:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("v-layout",{staticClass:"screen-account"},[a("app-header",[e._v("Reset your password")]),a("main",["resetPassword"!==e.mode||e.verifyActionCode?e._e():a("form",{staticClass:"account-resetpassword",on:{submit:function(r){return r.preventDefault(),e.setNewPassword(r)}}},[a("label-group",{attrs:{id:"account-newpw",label:"New password *",error:"newPassword"===e.error.el&&e.error.message},scopedSlots:e._u([{key:"default",fn:function(r){var t=r.label;return[a("v-input",{attrs:{type:"password",placeholder:"********",id:"account-newpw",autocomplete:"new-password","aria-describedby":t,error:"newPassword"===e.error.el,"error-message":e.error.message,"aria-invalid":"newPassword"===e.error.el,"data-cy":"account-form-newpassword"},model:{value:e.newPassword,callback:function(r){e.newPassword=r},expression:"newPassword"}})]}}],null,!1,3665096122)}),a("label-group",{attrs:{id:"account-newpw-confirm",label:"Confirm new password *",error:"newPasswordConfirm"===e.error.el&&e.error.message},scopedSlots:e._u([{key:"default",fn:function(r){var t=r.label;return[a("v-input",{attrs:{type:"password",placeholder:"********",id:"account-newpw-confirm","aria-describedby":t,error:"newPasswordConfirm"===e.error.el,"error-message":e.error.message,"aria-invalid":"newPasswordConfirm"===e.error.el,"data-cy":"account-form-newpassword"},model:{value:e.newPasswordConfirm,callback:function(r){e.newPasswordConfirm=r},expression:"newPasswordConfirm"}})]}}],null,!1,1101735017)}),a("div",{staticClass:"account-resetpassword-actions"},[a("router-link",{staticClass:"account-resetpassword-return",attrs:{to:"/login","data-cy":"account-resetpassword-return"}},[a("feather-left"),a("v-text",{attrs:{color:"special"}},[e._v("Back to login")])],1),a("v-button",{attrs:{color:"yellow",type:"submit","data-cy":"account-resetpassword-submit"}},[e.loading?a("feather-loader"):e._e(),e._v("Reset password ")],1)],1)],1)]),a("footer-no-auth")],1)},n=[],s=a("42c2"),o=a("0b38"),c=(a("df26"),a("ef1f"),a("f3b8"),a("918c"),a("9869")),i=a("9ce4"),u=a("df31"),l=a("a52b"),d=a("a0a1"),w=a("8ffc"),f=c["default"].extend({name:"Account",components:{"feather-left":function(){return a.e("icons").then(a.bind(null,"63a2"))},"feather-loader":function(){return a.e("icons").then(a.bind(null,"f463"))}},data:function(){return{mode:this.$route.query.mode,actionCode:String(this.$route.query.oobCode),verifyActionCode:!1,email:null,newPassword:null,newPasswordConfirm:null,loading:!1,error:{el:null,message:null}}},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])({signInUser:"account/signInUser",showNotification:"notifications/show"})),{},{setNewPassword:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.error.el=null,e.error.message=null,e.newPassword===e.newPasswordConfirm){r.next=6;break}return e.error.el="newPasswordConfirm",e.error.message="Password doesn't match",r.abrupt("return");case 6:return e.loading=!0,r.prev=7,r.next=10,Object(u["e"])(e.actionCode,e.newPasswordConfirm);case 10:return r.next=12,e.signInUser({type:"email",email:e.email,password:e.newPasswordConfirm});case 12:return r.next=14,Object(w["a"])(2e3);case 14:e.$router.push("/home"),r.next=21;break;case 17:r.prev=17,r.t0=r["catch"](7),Object(l["a"])("setNewPassword() => ".concat(r.t0.message),!0),e.error=Object(d["a"])(r.t0);case 21:return r.prev=21,e.loading=!1,r.finish(21);case 24:case"end":return r.stop()}}),r,null,[[7,17,21,24]])})))()}}),created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("resetPassword"!==e.mode){r.next=15;break}return e.verifyActionCode=!0,r.prev=2,r.next=5,Object(u["w"])(e.actionCode);case 5:e.email=r.sent,r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](2),Object(l["a"])("Account#created() => ".concat(r.t0.message),!0),e.showNotification({type:"alert",message:"An error occured, unable to reset your password. Please try again."});case 12:return r.prev=12,e.verifyActionCode=!1,r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[2,8,12,15]])})))()}}),p=f,m=(a("4d70"),a("2be6")),b=Object(m["a"])(p,t,n,!1,null,"bc450e1e",null);r["default"]=b.exports},"4d70":function(e,r,a){"use strict";a("914c")},"8ffc":function(e,r,a){"use strict";a.d(r,"a",(function(){return n}));var t=a("42c2");a("df26"),a("ef1f");function n(){return s.apply(this,arguments)}function s(){return s=Object(t["a"])(regeneratorRuntime.mark((function e(){var r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:2e3,e.abrupt("return",new Promise((function(e){return setTimeout(e,r)})));case 2:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},"914c":function(e,r,a){},a0a1:function(e,r,a){"use strict";a.d(r,"a",(function(){return n}));var t=a("3a0b");function n(e){var r={el:null,message:null};switch(console.log(e),e.code){case"auth/email-already-in-use":case"auth/invalid-email":case"auth/user-not-found":r.el="email",r.message=e.message;break;case"auth/weak-password":r.el="password",r.message=e.message;break;case"auth/wrong-password":r.el="password",r.message="Your password seems wrong. Please re-check.";break;default:t["b"].dispatch("notifications/show",{type:"alert",error:e.message})}return r}}}]);
//# sourceMappingURL=account.225e6c83.js.map