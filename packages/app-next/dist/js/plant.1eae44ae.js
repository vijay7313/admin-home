(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plant"],{"050d":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t="millisecond",e="second",n="minute",a="hour",r="day",i="week",s="month",o="quarter",u="year",c="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},p={s:h,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+h(a,2,"0")+":"+h(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(a,s),i=n-r<0,o=e.clone().add(a+(i?-1:1),s);return+(-(a+(n-r)/(i?r-o:o-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:s,y:u,w:i,d:r,D:c,h:a,m:n,s:e,ms:t,Q:o}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",m={};m[g]=f;var v=function(t){return t instanceof $},b=function(t,e,n){var a;if(!t)return g;if("string"==typeof t)m[t]&&(a=t),e&&(m[t]=e,a=t);else{var r=t.name;m[r]=t,a=r}return!n&&a&&(g=a),a||!n&&g},y=function(t,e){if(v(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new $(n)},w=p;w.l=b,w.i=v,w.w=function(t,e){return y(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var $=function(){function f(t){this.$L=b(t.locale,null,!0),this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(l);if(a){var r=a[2]-1||0,i=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=y(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return y(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<y(t)},h.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,o){var l=this,d=!!w.u(o)||o,f=w.p(t),h=function(t,e){var n=w.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return d?n:n.endOf(r)},p=function(t,e){return w.w(l.toDate()[t].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},g=this.$W,m=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case u:return d?h(1,0):h(31,11);case s:return d?h(1,m):h(0,m+1);case i:var y=this.$locale().weekStart||0,$=(g<y?g+7:g)-y;return h(d?v-$:v+(6-$),m);case r:case c:return p(b+"Hours",0);case a:return p(b+"Minutes",1);case n:return p(b+"Seconds",2);case e:return p(b+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,o){var l,d=w.p(i),f="set"+(this.$u?"UTC":""),h=(l={},l[r]=f+"Date",l[c]=f+"Date",l[s]=f+"Month",l[u]=f+"FullYear",l[a]=f+"Hours",l[n]=f+"Minutes",l[e]=f+"Seconds",l[t]=f+"Milliseconds",l)[d],p=d===r?this.$D+(o-this.$W):o;if(d===s||d===u){var g=this.clone().set(c,1);g.$d[h](p),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[w.p(t)]()},h.add=function(t,o){var c,l=this;t=Number(t);var d=w.p(o),f=function(e){var n=y(l);return w.w(n.date(n.date()+Math.round(e*t)),l)};if(d===s)return this.set(s,this.$M+t);if(d===u)return this.set(u,this.$y+t);if(d===r)return f(1);if(d===i)return f(7);var h=(c={},c[n]=6e4,c[a]=36e5,c[e]=1e3,c)[d]||1,p=this.$d.getTime()+t*h;return w.w(p,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",a=w.z(this),r=this.$locale(),i=this.$H,s=this.$m,o=this.$M,u=r.weekdays,c=r.months,l=function(t,a,r,i){return t&&(t[a]||t(e,n))||r[a].substr(0,i)},f=function(t){return w.s(i%12||12,t,"0")},h=r.meridiem||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:l(r.monthsShort,o,c,3),MMMM:l(c,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,u,2),ddd:l(r.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:w.s(i,2,"0"),h:f(1),hh:f(2),a:h(i,s,!0),A:h(i,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:a};return n.replace(d,(function(t,e){return e||p[t]||a.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,c,l){var d,f=w.p(c),h=y(t),p=6e4*(h.utcOffset()-this.utcOffset()),g=this-h,m=w.m(this,h);return m=(d={},d[u]=m/12,d[s]=m,d[o]=m/3,d[i]=(g-p)/6048e5,d[r]=(g-p)/864e5,d[a]=g/36e5,d[n]=g/6e4,d[e]=g/1e3,d)[f]||g,l?m:w.a(m)},h.daysInMonth=function(){return this.endOf(s).$D},h.$locale=function(){return m[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=b(t,e,!0);return a&&(n.$L=a),n},h.clone=function(){return w.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),O=$.prototype;return y.prototype=O,[["$ms",t],["$s",e],["$m",n],["$H",a],["$W",r],["$M",s],["$y",u],["$D",c]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),y.extend=function(t,e){return t.$i||(t(e,$,y),t.$i=!0),y},y.locale=b,y.isDayjs=v,y.unix=function(t){return y(1e3*t)},y.en=m[g],y.Ls=m,y.p={},y}))},"0cd0":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";return function(t,e,n){e.prototype.isToday=function(){var t=n();return this.format("YYYY-MM-DD")===t.format("YYYY-MM-DD")}}}))},1041:function(t,e,n){"use strict";n("4d9f")},"1bba":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return p}));var a=n("050d"),r=n.n(a),i=n("5ec8"),s=n.n(i),o=n("9e41"),u=n.n(o),c=n("0cd0"),l=n.n(c);r.a.extend(s.a),r.a.extend(u.a),r.a.extend(l.a);var d=function(){return r()()},f=function(t,e){var n=e.beginningOfMonth,a=e.endOfMonth,r=e.hasWaterings,i=n&&a;return{day:t.format("D"),weekday:t.format("ddd"),isCurrentMonth:i&&t.isSameOrAfter(n)&&t.isSameOrBefore(a),isToday:t.isToday(),hasWaterings:r,dayjs:t}},h=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.startOf("month"),a=t.endOf("month"),r=n.set("day",e),i=[],s=6,o=7,u=0,c=0;c<s;c++){i.push([]);for(var l=0;l<o;l++){var h=r.add(u,"day");i[c].push(f(h,{beginningOfMonth:n,endOfMonth:a,hasWaterings:Math.random()>=.5})),u++}}return i},p=function(t){return r()(t).format("HH:mm:ss")}},2153:function(t,e,n){},2241:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("app-header",{attrs:{"return-to":"/plant/"+t.$route.params.id}},[t._v(t._s(!t.loading&&t.plant.name))]),n("main",[t._v("gallery")])],1)},r=[],i=n("9869"),s=i["default"].extend({name:"Gallery",props:{plant:{type:Object},loading:{type:Boolean}}}),o=s,u=n("2be6"),c=Object(u["a"])(o,a,r,!1,null,null,null);e["default"]=c.exports},"34c0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{class:t.layoutClass},[n("app-header",{class:{"hide-logo":t.headerInView},scopedSlots:t._u([{key:"actions",fn:function(){return[n("div",{staticClass:"plant-header-actions"},[n("v-button",{attrs:{round:"",small:""},nativeOn:{click:function(e){return t.toggleDialog("settings",!0)}}},[n("span",{staticClass:"visuallyhidden"},[t._v("Open settings")]),n("feather-more")],1)],1)]},proxy:!0}])},[t._v(" "+t._s(t.headerInView?" ":t.plant&&t.plant.name)+" ")]),n("settings-dialog",{attrs:{show:t.showSettingsDialog,plant:t.plant},on:{"close-dialog":function(e){return t.toggleDialog("settings",!1)}}}),n("tags-dialog",{attrs:{show:t.showTagsDialog,tags:t.allTags,preselected:t.plantTags.data},on:{"create-tag":t.createNewTag,"tags-selected":t.setSelectedTags,"close-dialog":function(e){return t.toggleDialog("tags",!1)}}}),n("type-dialog",{attrs:{show:t.showTypeDialog,selected:t.plant&&t.plant.type},on:{"type-selected":t.setSelectedType,"close-dialog":function(e){return t.toggleDialog("type",!1)}}}),n("main",[n("plant-header",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility.60",value:t.observeVisibility,expression:"observeVisibility",modifiers:{60:!0}}],attrs:{loading:t.loading,name:t.plant&&t.plant.name,photo:t.plant&&t.plant.imageURL},on:{"update-name":t.setNewName}}),n("module-type",{attrs:{type:t.plant&&t.plant.type},on:{"open-dialog":function(e){return t.toggleDialog("type",!0)}}}),n("module-tags",{attrs:{tags:t.plantTags.data},on:{"open-dialog":function(e){return t.toggleDialog("tags",!0)}}}),n("modules-container")],1)],1)},r=[],i=n("42c2"),s=n("0b38"),o=(n("df26"),n("ef1f"),n("f3b8"),n("918c"),n("2d6d"),n("8d0d"),n("c78b"),n("868d"),n("841a"),n("cfce"),n("9869")),u=n("9ce4"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-dialog",{attrs:{id:"dialog-settings",show:t.show},on:{"close-dialog":function(e){return t.$emit("close-dialog")}},scopedSlots:t._u([{key:"headline",fn:function(){return[t._v("Settings")]},proxy:!0}])},[[n("v-button",{class:["remove-plant-btn",t.progress&&"progress"],attrs:{color:"red"},nativeOn:{click:function(e){return t.deletePlant(e)}}},[t.progress?n("feather-loader"):n("feather-trash"),n("span",[t._v("Delete plant")])],1),n("div",{staticClass:"dialog-settings-modified"},[n("v-text",{attrs:{small:"",color:"inactive"}},[n("span",[t._v("Last modified "+t._s(t._f("formatDate")(t.plant&&t.plant.modified))+" "+t._s(t.modifiedTime))])])],1)]],2)},l=[],d=n("a52b"),f=n("df31"),h=n("8ffc"),p=n("1bba"),g=o["default"].extend({name:"SettingsDialog",props:{show:{type:Boolean,default:!1},plant:{type:Object}},components:{"feather-loader":function(){return n.e("icons").then(n.bind(null,"f463"))},"feather-trash":function(){return n.e("icons").then(n.bind(null,"8b56"))}},data:function(){return{progress:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(u["c"])({userID:function(t){return t.account.uid}})),{},{modifiedTime:function(){var t;return Object(p["d"])(null===(t=this.plant)||void 0===t?void 0:t.modified)}}),methods:Object(s["a"])(Object(s["a"])({},Object(u["b"])({showNotification:"notifications/show"})),{},{deletePlant:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.progress=!0,e.next=4,Object(f["i"])(t.userID,t.plant);case 4:if(t.$store.commit("plants/removePlant",t.plant),!t.plant.imageURL){e.next=8;break}return e.next=8,Object(f["h"])(Object(f["n"])(t.userID,t.plant.guid));case 8:return e.next=10,Object(h["a"])(2e3);case 10:t.progress=!1,t.$router.push("/home"),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),Object(d["a"])(e.t0.message,!0),t.showNotification({type:"alert",message:"Unable to delete plant. Please try again later."});case 18:return e.prev=18,t.progress&&(t.progress=!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})))()}})}),m=g,v=(n("d2f2"),n("2be6")),b=Object(v["a"])(m,c,l,!1,null,null,null),y=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{class:["plant-header",t.photo&&"has-photo",t.loading&&"loading"]},[t.loading?t._e():n("div",{class:["plant-header-label",t.canEditName&&"edit"],on:{click:t.editName}},[n("v-text",{ref:"headerName",attrs:{type:"subtitle",color:t.photo?"special":"normal",contenteditable:t.canEditName},nativeOn:{blur:function(e){return t.updateName(e)}}},[n("span",[t._v(t._s(t.name))])])],1),n("div",{staticClass:"plant-header-bg",on:{click:t.uploadNewPhoto}},[t.loading?n("feather-loader",{staticClass:"plant-header-icon"}):!t.loading&&t.photo?n("lazy-image",{attrs:{src:t.photo,alt:t.name,title:t.name}}):n("feather-camera",{staticClass:"plant-header-icon"}),n("file-upload",{ref:"headerFile",attrs:{id:"plant-header-file"},on:{"file-selected":t.getFile}})],1)])},$=[],O=(n("32f5"),n("2aa5"),n("b55a"),o["default"].extend({name:"PlantHeader",props:{name:{type:String},photo:{type:String},loading:{type:Boolean,default:!0}},components:{"feather-camera":function(){return n.e("icons").then(n.bind(null,"6943"))},"feather-loader":function(){return n.e("icons").then(n.bind(null,"f463"))}},data:function(){return{canEditName:!1,triggerUpload:!1}},methods:{uploadNewPhoto:function(){this.triggerUpload=!0,this.$refs.headerFile.triggerUpload()},editName:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.canEditName=!0,e.next=3,o["default"].nextTick();case 3:t.$refs.headerName.focus();case 4:case"end":return e.stop()}}),e)})))()},updateName:function(t){var e;if(this.canEditName=!1,null!==(e=t.target)&&void 0!==e&&e.textContent){var n=t.target.textContent.trim().replace(/\s\s+/g," ");n!==this.name&&this.$emit("update-name",n)}},getFile:function(t){console.log(t)}}})),x=O,D=(n("6037"),Object(v["a"])(x,w,$,!1,null,"2b9744b4",null)),_=D.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"module-tags"},[n("div",{staticClass:"module-tags-header"},[n("v-text",{attrs:{color:"inactive"}},[n("strong",[t._v("Tags")])]),n("v-button",{attrs:{round:"",small:"",color:"white"},nativeOn:{click:function(e){return t.$emit("open-dialog")}}},[n("feather-plus"),n("span",{staticClass:"visuallyhidden"},[t._v("Open dialog")])],1)],1),n("div",{staticClass:"module-tags-container"},[t.tags.length?n("div",{staticClass:"module-tags-list"},t._l(t.tags,(function(e){return n("v-tag",{key:e.guid,attrs:{tag:e}},[t._v(t._s(e.label))])})),1):n("v-text",{attrs:{color:"inactive"}},[t._v("Add tags for more granular organisation")])],1)])},j=[],T=o["default"].extend({name:"ModuleTags",props:{tags:{type:Array}},components:{"feather-plus":function(){return n.e("icons").then(n.bind(null,"c038"))}}}),S=T,k=(n("45f8"),Object(v["a"])(S,M,j,!1,null,"ffdb103a",null)),C=k.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"plant-type"},[n("v-text",{attrs:{color:"inactive"}},[n("strong",[t._v("Plant type")])]),n("button",{on:{click:function(e){return t.$emit("open-dialog")}}},[n("v-text",{attrs:{color:"special",type:"button"}},[t._v(t._s(t.label))]),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 165 30",preserveAspectRatio:"none"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M15.2980242 1.6865913C54.3474655-.0040447 142.277064-1.0595373 158.333369 1.687221c3.375937.5775946 5.502516 1.7986084 5.918387 3.8707842 1.21636 6.106668 1.016982 12.190389-1.095662 18.3021319-1.949603 5.6402323-10.579788 5.712085-23.246595 5.8007791C1.8856749 30.6329676 1.9064585 29.5996066.7651242 25.4596764c-.4861923-1.7819255-.903879-3.6105191-.7214437-5.4103613C1.9143985 2.0020504 4.40911 2.1588096 15.2980242 1.6865913"}})])],1)],1)},R=[],Y=o["default"].extend({name:"ModuleType",props:{type:{type:Object}},computed:{label:function(){var t;return(null===(t=this.type)||void 0===t?void 0:t.label)||"No type"}}}),P=Y,I=(n("1041"),Object(v["a"])(P,N,R,!1,null,"887c203a",null)),H=I.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modules-container"},[n("div",{staticClass:"modules-container-header"},[n("v-text",{attrs:{color:"inactive"}},[n("strong",[t._v("Modules")])]),n("v-button",{attrs:{round:"",small:"",color:"white"},nativeOn:{click:function(e){return t.$emit("open-dialog")}}},[n("feather-plus"),n("span",{staticClass:"visuallyhidden"},[t._v("Open dialog")])],1)],1),n("div",{staticClass:"modules-container-content"},[n("v-text",{attrs:{color:"inactive"}},[t._v("Add modules for interactive care taking")])],1)])},U=[],A=o["default"].extend({name:"ModulesContainer",components:{"feather-plus":function(){return n.e("icons").then(n.bind(null,"c038"))}}}),E=A,W=(n("3c22"),Object(v["a"])(E,L,U,!1,null,"1b165385",null)),V=W.exports,B=n("92a0"),F=o["default"].extend({name:"Plant",props:{plant:{type:Object},loading:{type:Boolean}},components:{"settings-dialog":y,"plant-header":_,"module-type":H,"module-tags":C,"modules-container":V,"feather-more":function(){return n.e("icons").then(n.bind(null,"4f63"))}},data:function(){return{showSettingsDialog:this.$hasQuery("settings"),showTagsDialog:this.$hasQuery("tags"),showTypeDialog:this.$hasQuery("type"),headerInView:!0,selectedTags:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(u["c"])({allTags:function(t){return t.tags}})),{},{plantTags:function(){var t=this;return Object.assign({},this.allTags,{data:this.allTags.data.filter((function(e){var n;return e.plants.includes(null===(n=t.plant)||void 0===n?void 0:n.guid)}))})},layoutClass:function(){return{"screen-plant":!0,"no-photo":this.loading||!this.plant.imageURL,"header-in-view":this.headerInView}}}),methods:Object(s["a"])(Object(s["a"])({},Object(u["b"])({loadTags:"tags/loadTags",createTag:"tags/createTag",updateTags:"tags/updateTags",updatePlant:"plants/updatePlant",showNotification:"notifications/show"})),{},{toggleDialog:function(t,e){var n;"tags"===t?(this.showTagsDialog=e,n={tags:null}):"type"===t?(this.showTypeDialog=e,n={type:null}):(this.showSettingsDialog=e,n={settings:null}),e?this.$router.push({path:this.$route.path,query:n}):this.$router.push(this.$route.path)},observeVisibility:function(t){console.log("visible",t),this.headerInView=t},setNewName:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.updatePlant(Object(B["a"])(e.plant,{guid:e.plant.guid,modified:Date.now(),name:t}));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n["catch"](0),Object(d["a"])(n.t0.name,!0),e.showNotification({type:"alert",message:"There was a problem updating. "});case 9:case"end":return n.stop()}}),n,null,[[0,5]])})))()},setSelectedTags:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.allTags.data.filter((function(e){return!t.find((function(t){return t.guid===e.guid}))})),n.next=3,e.updateTags(e.plantTags.data.map((function(t){return t.plants.includes(e.plant.guid)?a.find((function(e){return e.guid===t.guid}))&&(t.plants=t.plants.filter((function(t){return t!==e.plant.guid}))):t.plants.push(e.plant.guid),t})));case 3:case"end":return n.stop()}}),n)})))()},setSelectedType:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.updatePlant(Object(B["a"])(e.plant,{guid:e.plant.guid,modified:Date.now(),type:t}));case 3:e.plant.type=t,n.next=10;break;case 6:n.prev=6,n.t0=n["catch"](0),Object(d["a"])(n.t0.name,!0),e.showNotification({type:"alert",message:"There was a problem updating. "});case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))()},createNewTag:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.createTag({label:t});case 3:n.next=9;break;case 5:n.prev=5,n.t0=n["catch"](0),Object(d["a"])(n.t0.name,!0),e.showNotification({type:"alert",message:"There was a problem updating. "});case 9:case"end":return n.stop()}}),n,null,[[0,5]])})))()}}),created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.allTags.loaded){e.next=9;break}return e.prev=1,e.next=4,t.loadTags();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),Object(d["a"])(e.t0.message,!0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()}}),J=F,z=(n("4d41"),Object(v["a"])(J,a,r,!1,null,null,null));e["default"]=z.exports},"3c22":function(t,e,n){"use strict";n("5994")},"45f8":function(t,e,n){"use strict";n("498e")},4949:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view",{attrs:{plant:t.plant,loading:t.loading}})},r=[],i=n("42c2"),s=n("0b38"),o=(n("df26"),n("841a"),n("9869")),u=n("9ce4"),c=n("df31"),l=n("a52b"),d=o["default"].extend({data:function(){return{loading:!0,individualPlant:null}},computed:Object(s["a"])(Object(s["a"])({},Object(u["c"])({userID:function(t){return t.account.uid},plants:function(t){return t.plants}})),{},{plant:function(){var t=this;return this.plants.loaded?this.plants.data.find((function(e){return(null===e||void 0===e?void 0:e.guid)===t.$route.params.id})):this.individualPlant}}),created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.plants.loaded||null!==t.individualPlant){e.next=17;break}return e.next=3,Object(c["l"])(t.userID,c["a"].Plants).doc(t.$route.params.id).get();case 3:if(n=e.sent,a=n.data(),!a.imageURL){e.next=15;break}return e.prev=6,e.next=9,Object(c["j"])(a.imageURL);case 9:a.imageURL=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](6),Object(l["a"])(e.t0.message,!0);case 15:t.individualPlant=a,t.loading=!1;case 17:case"end":return e.stop()}}),e,null,[[6,12]])})))()},mounted:function(){this.plants.data.length&&(this.loading=!1)}}),f=d,h=n("2be6"),p=Object(h["a"])(f,a,r,!1,null,null,null);e["default"]=p.exports},"498e":function(t,e,n){},"4d41":function(t,e,n){"use strict";n("d606")},"4d9f":function(t,e,n){},5994:function(t,e,n){},"5ec8":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";return function(t,e){e.prototype.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)}}}))},6037:function(t,e,n){"use strict";n("2153")},"8ffc":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("42c2");n("df26"),n("ef1f");function r(){return i.apply(this,arguments)}function i(){return i=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:2e3,t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 2:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}},9951:function(t,e,n){var a=n("72df"),r=n("fbf7"),i="​᠎";t.exports=function(t){return a((function(){return!!r[t]()||i[t]()!=i||r[t].name!==t}))}},"9e41":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";return function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}}))},b55a:function(t,e,n){"use strict";var a=n("6b1d"),r=n("61ad").trim,i=n("9951");a({target:"String",proto:!0,forced:i("trim")},{trim:function(){return r(this)}})},d2f2:function(t,e,n){"use strict";n("edaa")},d606:function(t,e,n){},edaa:function(t,e,n){}}]);
//# sourceMappingURL=plant.1eae44ae.js.map